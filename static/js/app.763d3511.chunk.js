(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{377:function(e,t,n){"use strict";n.d(t,"a",(function(){return cr}));var a=n(5),r=n.n(a),o=n(16),i=n.n(o),s=n(0),c=n.n(s),l=(n(312),n(190)),u=n(314),d=n(574),f=n(2),h=n(3),m=n(27),p=n(7),g=n.n(p),y=n(8),w=n.n(y),b=n(10),E=n.n(b),v=n(11),S=n.n(v),x=n(4),C=n.n(x),R=n(52),O=n(18);function P(e){switch(e){case"black":return"SourceSansPro_900Black";case"bold":return"SourceSansPro_700Bold";case"semiBold":return"SourceSansPro_600SemiBold";case"light":return"SourceSansPro_300Light";case"extraLight":return"SourceSansPro_200ExtraLight";default:return"SourceSansPro_400Regular"}}function I(e){switch(e){case"black":return"Merriweather_900Black";case"bold":return"Merriweather_700Bold";case"light":return"Merriweather_300Light";default:return"Merriweather_400Regular"}}var k=n(573),B=n(72);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t=Object(B.m)({SourceSansPro_200ExtraLight:B.a,SourceSansPro_200ExtraLight_Italic:B.b,SourceSansPro_300Light:B.c,SourceSansPro_300Light_Italic:B.d,SourceSansPro_400Regular:B.e,SourceSansPro_400Regular_Italic:B.f,SourceSansPro_600SemiBold:B.g,SourceSansPro_600SemiBold_Italic:B.h,SourceSansPro_700Bold:B.i,SourceSansPro_700Bold_Italic:B.j,SourceSansPro_900Black:B.k,SourceSansPro_900Black_Italic:B.l});return i()(t,1)[0]?c.a.createElement(O.a,{style:[e.stylesheet,T(T({},e.style),{},{fontFamily:P(e.weight),fontSize:e.fontSize,color:e.color})]},e.text):c.a.createElement(k.a,null)},D=n(336);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){return c.a.createElement(f.a,{style:_(_({},e.styleContainer),{},{width:"100%",flexDirection:"row",padding:12,borderRadius:null!=e.containerBorderRadius?e.containerBorderRadius:8,backgroundColor:null!=e.containerBackgroundColor?e.containerBackgroundColor:"#222",justifyContent:"flex-start",alignItems:"center",shadowColor:"#222222",shadowOffset:{width:0,height:3},shadowOpacity:e.hasShadow?.29:0,shadowRadius:e.hasShadow?4.65:0,elevation:e.hasShadow?4:0})},c.a.createElement(f.a,{style:{height:32,width:32,marginRight:12,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.5)",borderRadius:1e3}},c.a.createElement(D.a,{name:e.isAlert?"alert-circle-outline":"information-outline",color:null!=e.iconColor?e.iconColor:"#222",size:24})),c.a.createElement(j,{text:e.text,color:null!=e.textColor?e.textColor:"#FFF",weight:null!=e.textWeight?e.textWeight:"regular"}))}var M=n(202),N=n.n(M);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var U=function(e){E()(n,e);var t=W(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={constraints:null,errorText:"",showErrorText:!1},e._validate=function(t){if(void 0!==e.state.constraints&&null!==e.state.constraints){var n=N.a.single(t,e.state.constraints);if(void 0===n||null===n||""===n)return void e.setState({showErrorText:!1,errorText:""});e.setState({showErrorText:!0,errorText:n[0]})}},e}return w()(n,[{key:"componentDidMount",value:function(){this.setState({constraints:this.props.constraints})}},{key:"render",value:function(){var e=this;return c.a.createElement(f.a,{style:H.contain},c.a.createElement(R.a,{multiline:!!this.props.isMultiline,numberOfLines:this.props.isMultiline?this.props.numberOfLines:1,defaultValue:this.props.defaultValue,style:[V(V({},this.props.styleTextInput),{},{height:this.props.isMultiline?"auto":30}),H.textInput],secureTextEntry:this.props.secure,placeholder:this.props.placeholder,onChangeText:function(t){e.props.onChangeText(t),e._validate(t)}}),this.state.showErrorText&&c.a.createElement(z,{isAlert:!0,styleContainer:{marginVertical:8},text:this.state.errorText,containerBackgroundColor:"#E14B1C",hasShadow:!1}))}}]),n}(c.a.PureComponent),H=h.a.create({textInput:{width:"100%",padding:4,borderWidth:1,borderColor:"#CCDAE7",borderRadius:4,backgroundColor:"#E9F0F6"},contain:{width:"100%",marginBottom:20}}),q=n(25);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var $=function(e){E()(n,e);var t=G(n);function n(e){var a;return g()(this,n),(a=t.call(this,e)).onIconPress=function(){var e=a.state.secureTextEntry?"eye-off":"eye";a.setState({secureTextEntry:!a.state.secureTextEntry,iconName:e})},a._validate=function(e){if(void 0!==a.state.constraints&&null!==a.state.constraints){var t=M.validate.single(e,a.state.constraints);if(void 0===t||null===t||""===t)return void a.setState({showErrorText:!1,errorText:""});a.setState({showErrorText:!0,errorText:t[0]})}},a.state={constraints:e.constraints,errorText:"",showErrorText:!1,secureTextEntry:!0,iconName:"eye"},a}return w()(n,[{key:"render",value:function(){var e=this;return c.a.createElement(f.a,{style:J.contain},c.a.createElement(f.a,{style:J.textInputSecure},c.a.createElement(R.a,{style:{flex:1,padding:4},secureTextEntry:this.state.secureTextEntry,onChangeText:function(t){e.props.onChangeText(t),e._validate(t)}}),c.a.createElement(q.a,{onPress:this.onIconPress},c.a.createElement(D.a,{name:this.state.iconName,style:J.iconVisibility,size:20}))),this.state.showErrorText&&c.a.createElement(O.a,{style:J.textError},this.state.errorText))}}]),n}(c.a.Component),J=h.a.create({textInputSecure:{flexDirection:"row",justifyContent:"space-between",width:"100%",borderWidth:1,borderColor:"#CCDAE7",borderRadius:4,backgroundColor:"#E9F0F6"},contain:{width:"100%",marginBottom:20},textError:{borderBottomLeftRadius:4,borderBottomRightRadius:4,backgroundColor:"#B64C4C"},iconVisibility:{position:"absolute",right:4,marginTop:1}});function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){return c.a.createElement(q.a,{style:Z({},e.styleContainer),onPress:e.onPress},c.a.createElement(f.a,{style:[Z(Z({},e.styleButtonContainer),{},{borderRadius:null!=e.buttonBorderRadius?e.buttonBorderRadius:4}),K.buttonPrimaryContainer]},c.a.createElement(j,{text:e.text,fontSize:e.fontSize,weight:"semiBold",color:null!=e.textColor?e.textColor:"#FFF"})))}var K=h.a.create({buttonPrimaryContainer:{paddingLeft:10,paddingRight:10,paddingTop:8,paddingBottom:8,backgroundColor:"#222"},buttonIcon:{paddingTop:3,paddingRight:8}});function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=e.styleContainer,n=e.hasContainer,a=e.onPress,r=e.styleButtonContainer,o=e.buttonBorderRadius,i=e.text,s=e.fontSize,l=e.weight,u=e.textColor;return c.a.createElement(q.a,{style:ee({},t),onPress:a},c.a.createElement(f.a,{style:[ee(ee({},r),{},{borderRadius:o}),n?ne.buttonTextContainer:{}]},c.a.createElement(j,{text:i,fontSize:s,weight:l,color:u})))}te.defaultProps={textColor:"#222",weight:"regular",buttonBorderRadius:4};var ne=h.a.create({buttonTextContainer:{paddingLeft:10,paddingRight:10,paddingTop:8,paddingBottom:8,alignItems:"center"}});function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var ie=function(e){E()(n,e);var t=oe(n);function n(){return g()(this,n),t.apply(this,arguments)}return w()(n,[{key:"render",value:function(){return c.a.createElement(q.a,{style:re(re({},this.props.styleContainer),{},{width:null!=this.props.buttonSize?this.props.buttonSize:32,height:null!=this.props.iconNameAdd?null!=this.props.buttonSize?this.props.buttonSize:64:32,backgroundColor:null!=this.props.buttonBackgroundColor?this.props.buttonBackgroundColor:"transparent",justifyContent:"center",alignItems:"center",borderRadius:null!=this.props.buttonBorderRadius?this.props.buttonBorderRadius:4,zIndex:99}),onPress:this.props.onPress},c.a.createElement(f.a,{style:re(re({},this.props.styleIcon),{},{shadowColor:"#222222",shadowOffset:{width:0,height:3},shadowOpacity:this.props.hasShadow?.29:0,shadowRadius:this.props.hasShadow?4.65:0,elevation:this.props.hasShadow?4:0})},c.a.createElement(D.a,{name:this.props.iconNameAdd,size:null!=this.props.iconNameAdd?null!=this.props.iconSize?this.props.iconSize:24:0,color:null!=this.props.iconNameAdd&&null!=this.props.iconColor?this.props.iconColor:"#222"}),c.a.createElement(f.a,{style:{width:"60%",height:null!=this.props.iconNameAdd?1:0,marginTop:null!=this.props.iconNameAdd?2:0,marginBottom:null!=this.props.iconNameAdd?2:0,borderRadius:2,backgroundColor:"#CCC"}}),c.a.createElement(D.a,{name:this.props.iconName,size:null!=this.props.iconSize?this.props.iconSize:24,color:null!=this.props.iconColor?this.props.iconColor:"#222"})))}}]),n}(c.a.Component),se=n(6),ce=n(39);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de,fe,he=function(e){var t=Object(s.useRef)(new se.a.Value(30)).current;Object(s.useRef)(new se.a.Value(0)).current,e.alertVisible;return c.a.useEffect((function(){return se.a.timing(t,{toValue:null!=e.translateBy?-e.translateBy:-38,easing:ce.a.elastic(1),duration:1e3}).start(),function(){}}),[]),c.a.createElement(se.a.View,{style:ue(ue({},e.styleContainer),{},{flexDirection:"row",position:"absolute",left:"50%",bottom:null!=e.alertHeight?-e.alertHeight:-30,width:null!=e.alertWidth?e.alertWidth:320,height:null!=e.alertHeight?e.alertHeight:"auto",marginLeft:null!=e.alertWidth?-e.alertWidth:-160,paddingTop:6,paddingBottom:6,paddingLeft:12,paddingRight:12,justifyContent:"space-between",alignItems:"center",borderRadius:null!=e.borderRadius?e.buttonBorderRadius:2,backgroundColor:"#222",zIndex:199,transform:[{translateY:t}]})},c.a.createElement(j,{text:e.text,fontSize:12,weight:"semiBold",color:null!=e.textColor?e.textColor:"#fff"}),c.a.createElement(f.a,{style:{width:8}}),c.a.createElement(ie,{iconName:"close",iconColor:"#ffffff",hasShadow:!1,iconSize:16,buttonSize:16,onPress:e.onPress}))},me=m.a.get("window"),pe=me.width;me.height;de=(fe=pe)>1e3?pe/3:fe-40;var ge=h.a.create({containerBody:{flex:1,backgroundColor:"#F8F7F0",alignItems:"center",justifyContent:"center"},containerMain:{flexDirection:"column",width:de,padding:16,borderRadius:4,alignItems:"center",backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7},containerTextInputLabels:{width:"100%",flexDirection:"row",justifyContent:"space-between"},textLabel:{marginRight:"auto",marginBottom:4,fontSize:12,color:"#555555"},divider:{height:.1,width:"100%",marginTop:8,marginBottom:8,alignSelf:"center",backgroundColor:"#dddddd"},defaultShadow:{shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7}});function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e){var t=Object(s.useRef)(new se.a.Value(-10)).current,n=Object(s.useRef)(new se.a.Value(0)).current,a=Object(s.useState)(0),r=i()(a,2),o=(r[0],r[1],Object(s.useState)(!0)),l=i()(o,2);l[0],l[1];c.a.useEffect((function(){return u(),function(){}}),[]);var u=function(){se.a.parallel([se.a.timing(t,{toValue:0,easing:ce.a.bezier(.645,.045,.355,1),duration:220}),se.a.timing(n,{toValue:1,duration:120})]).start()};return c.a.createElement(f.a,{style:we(we({},e.styleContainer),{},{position:"absolute",alignItems:"center"})},c.a.createElement(se.a.View,{style:[ge.defaultShadow,{padding:16,borderRadius:4,backgroundColor:"#FFF",opacity:n,transform:[{translateY:t}]}]},c.a.createElement(ie,{styleContainer:{position:"absolute",top:0,right:0,zIndex:99},iconName:"close",iconSize:16,hasShadow:!1,onPress:e.onClose}),e.menuItems))},Ee=function(e){var t=Object(s.useRef)(new se.a.Value(12)).current,n=Object(s.useRef)(new se.a.Value(0)).current;c.a.useEffect((function(){return a(),function(){}}),[]);var a=function(){se.a.parallel([se.a.timing(t,{toValue:0,delay:e.itemDelay,easing:ce.a.elastic(1),duration:420}),se.a.timing(n,{toValue:1,delay:e.itemDelay,duration:320})]).start()};return c.a.createElement(se.a.View,{style:{width:"100%",flexDirection:"row",opacity:n,transform:[{translateY:t}]}},c.a.createElement(D.a,{name:e.itemIcon,size:16}),c.a.createElement(f.a,{style:{width:8}}),c.a.createElement(q.a,{onPress:e.onMenuItemPress},c.a.createElement(j,{text:e.itemText})),c.a.createElement(f.a,{style:{width:16}}))},ve=n(13),Se=n.n(ve),xe=n(71);function Ce(e){var t,n;return Se.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={"Content-Type":"application/json",Accept:"application/json"},a.next=3,Se.a.awrap(fetch("https://dev.fernapp.co/graphql",{method:"POST",headers:t,body:JSON.stringify(e)}));case 3:return n=a.sent,a.next=6,Se.a.awrap(n.json());case 6:return a.abrupt("return",a.sent);case 7:case"end":return a.stop()}}),null,null,null,Promise)}function Re(e,t){var n,a;return Se.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(n={Authorization:"Bearer "+e,"Content-Type":"application/json",Accept:"application/json"}).Authorization="Bearer "+e,r.next=4,Se.a.awrap(fetch("https://dev.fernapp.co/graphql",{method:"POST",headers:n,body:JSON.stringify(t)}));case 4:return a=r.sent,r.next=7,Se.a.awrap(a.json());case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),null,null,null,Promise)}var Oe={presence:{allowEmpty:!1}},Pe={presence:{allowEmpty:!1},email:!0},Ie={presence:{allowEmpty:!1},format:{pattern:/[a-zA-Z0-9_]*/,message:"A username can only contain a-z, A-Z, 0-9 and _"}},ke={presence:{allowEmpty:!1},format:{pattern:/((?=.*[a-z])(?=.*[0-9])(?=.*[^a-zA-Z0-9])(?=.*[A-Z]).{8,32})/,message:"A password must contain 1 upper and 1 lower case letter, 1 number, 1 special character, and be at least 8 characters long and at max 32."}},Be={presence:{allowEmpty:!1},format:{pattern:/.{4,30}/,message:"A title must be at least 4 characters long and at max 30."}},Fe={presence:{allowEmpty:!1},format:{pattern:/.{4,280}/,message:"A review must be at least 4 characters long and at max 280."}},Te={presence:{allowEmpty:!1},format:{pattern:/[0-9]{5}/,message:"A zipcode must only contain 0-9 and be 5 characters long."}};function je(e,t,n,a,r,o,i){var s={locationsModel:{paging:{start:e,max:t},latitude:r,longitude:o,distance:i}};return null!==n&&""!==n&&(s.locationsModel.fuzzyFilter={value:n,filter:"NAME"}),null!==a&&(s.locationsModel.filters=a),{query:"query ($locationsModel: LocationsInputModel!){getLocationNearByElastic(locationsModel: $locationsModel) {paging{ start stop } locations{ id name streetAddress city state zipCode latitude longitude totalRatings wifiRating outletsRating noiseRating seatingRating imageUri distance }}}",variables:JSON.stringify(s)}}function De(e,t,n){var a={reviewsInputModel:{paging:{start:e,max:t},locationId:n}};return{query:"query ($reviewsInputModel: ReviewsInputModel!){getReviewsByLocationId(reviewsModel: $reviewsInputModel) {paging{ start stop } reviews{ id userId locationId noise wifi seating outlets title review imageUris dateCreated }}}",variables:JSON.stringify(a)}}function Le(e,t,n){var a={reviewsInputModel:{paging:{start:e,max:t},locationId:n}};return{query:'query ($reviewsInputModel: ReviewsInputModel!){getReviewsByLocationId(reviewsModel: $reviewsInputModel) {paging{ start stop } reviews{ id userId locationId noise wifi seating outlets title review imageUris dateCreated }}getLocationById(id: "'+n+'") {id name streetAddress city state zipCode latitude longitude totalRatings wifiRating outletsRating noiseRating seatingRating imageUri distance}}',variables:JSON.stringify(a)}}function _e(e,t,n){var a={userReviewsInputModel:{paging:{start:e,max:t},userId:n}};return{query:"query ($userReviewsInputModel: UserReviewsInputModel!){getReviewsByUserId(userReviewsModel: $userReviewsInputModel) {paging{ start stop } reviews{ id userId locationId noise wifi seating outlets title review imageUris dateCreated }}}",variables:JSON.stringify(a)}}var ze=n(90);function Me(){return Se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.a.awrap(ze.a.getItem("fernToken"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}function Ne(){return Se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.a.awrap(ze.a.getItem("fernUserId"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}function Ae(){return Se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.a.awrap(ze.a.getItem("fernEmail"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}var Ve=c.a.createContext(),We=n(576);function Ue(e,t){return Ce(function(e,t){var n={loginModel:{emailOrUsername:e,password:t}};return{query:"query ($loginModel: LoginModel!){login(loginModel: $loginModel){token email username}}",variables:JSON.stringify(n)}}(e,t))}var He,qe=m.a.get("window"),Ge=qe.width,$e=(qe.height,Ge/3);function Je(e){var t=e.navigation,n=Object(s.useState)(!1),a=i()(n,2),r=a[0],o=a[1],l=Object(s.useState)("email or username"),u=i()(l,2),d=u[0],h=u[1],m=Object(s.useState)("password"),p=i()(m,2),g=p[0],y=p[1],w=Object(s.useContext)(Ve).login,b=Object(s.useState)(!1),E=i()(b,2),v=E[0],S=E[1],x=Object(s.useState)(!1),C=i()(x,2),R=C[0],O=C[1];return Object(s.useEffect)((function(){We.a.getInitialURL().then((function(e){var n=We.a.parse(e),a=n.path,r=n.queryParams;We.a.set,a.includes("verify")||a.includes("Verify")?t.push("Verify",r):a.includes("reset-password")||a.includes("VerifyResetPassword")?t.push("VerifyResetPassword",r):a.includes("Register")&&t.push("Register",r)}))}),[]),c.a.createElement(f.a,{style:ge.containerBody},c.a.createElement(f.a,{style:Ye.containerTitle},c.a.createElement(j,{text:"FERN ",weight:"black",fontSize:26}),c.a.createElement(j,{text:"STUDY SPOT FINDER"})),c.a.createElement(f.a,{style:ge.containerMain},c.a.createElement(f.a,{style:{width:"100%",flexDirection:"row",justifyContent:"space-between",zIndex:100}},c.a.createElement(f.a,{style:{width:32,height:32}}),c.a.createElement(j,{text:"LOGIN",weight:"bold",style:{justifySelf:"center"}}),c.a.createElement(ie,{style:{justifySelf:"end"},iconName:"dots-vertical",iconSize:24,onPress:function(){S(!v)}}),v&&c.a.createElement(be,{onClose:function(){S(!1)},styleContainer:{right:0,top:30},menuItems:c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee,{itemDelay:0,itemIcon:"account-check",itemText:"Verify Account",onMenuItemPress:function(){return t.push("Verify")}}),c.a.createElement(f.a,{style:{height:12}}),c.a.createElement(Ee,{itemDelay:50,itemIcon:"shield-check",itemText:"Verify Reset Password",onMenuItemPress:function(){return t.push("VerifyResetPassword")}}))})),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Email/Username"})),c.a.createElement(U,{value:d,onChangeText:function(e){return h(e)}}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Password"}),c.a.createElement(te,{text:"Forgot your password?",onPress:function(){return t.push("ResetPassword")}})),c.a.createElement($,{value:g,onChangeText:function(e){return y(e)}}),c.a.createElement(f.a,{style:Ye.containerBtnLogin},c.a.createElement(Q,{text:"SUBMIT",onPress:function(){o(!0),Ue(d,g).then((function(e){var t;o(!1),null!==e.error&&O(!0),null!==e.data&&(t=e.data,Se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.a.awrap(ze.a.multiSet([["fernToken",t.login.token],["fernUserId",t.login.username],["fernEmail",t.login.email]],null));case 2:case"end":return e.stop()}}),null,null,null,Promise)).then((function(){w()}))}),(function(e){}))}}))),c.a.createElement(f.a,{style:Ye.containerRegister},c.a.createElement(te,{text:"Make a new account. ",fontSize:16,onPress:function(){return t.push("Register")}}),c.a.createElement(te,{text:"Here.",weight:"bold",fontSize:16,onPress:function(){return t.push("Register")}})),r&&c.a.createElement(he,{text:"Logging you in... please wait"}),R&&c.a.createElement(he,{text:"Failed to Login",onPress:function(){O(!1)}}))}!function(e){He=e>1e3?$e:e-40}(Ge);var Ye=h.a.create({containerBody:{flex:1,backgroundColor:"#F8F7F0",alignItems:"center",justifyContent:"center"},containerTitle:{width:He,flexDirection:"row",justifyContent:"flex-start",alignItems:"baseline"},containerLabel:{width:"100%",flexDirection:"row",justifyContent:"space-between"},containerRegister:{flexDirection:"row",marginTop:6,marginBottom:6},containerBtnLogin:{width:"100%",flexDirection:"row-reverse",justifyContent:"space-between"},containerMenu:{width:20,height:20,backgroundColor:"#222"},labelLogin:{fontWeight:"700",letterSpacing:1},labelFern:{fontSize:24,fontWeight:"700",letterSpacing:1}}),Ze=n(55),Qe=n(179);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var tt=function(e){E()(n,e);var t=et(n);function n(){return g()(this,n),t.apply(this,arguments)}return w()(n,[{key:"render",value:function(){return c.a.createElement(q.a,{style:Xe({},this.props.styleContainer),onPress:this.props.onPress},c.a.createElement(f.a,{style:Xe(Xe({},this.props.styleButton),{},{flexDirection:"row",height:null!=this.props.buttonSize?this.props.buttonSize:32,width:null!=this.props.iconNameAdd?null!=this.props.buttonSize?this.props.buttonSize:77:42,borderTopLeftRadius:1==this.props.rightTab?4:0,borderTopRightRadius:1==this.props.leftTab?4:0,borderBottomLeftRadius:1==this.props.rightTab?4:0,borderBottomRightRadius:1==this.props.leftTab?4:0,backgroundColor:null!=this.props.buttonBackgroundColor?this.props.buttonBackgroundColor:"transparent",justifyContent:"center",alignItems:"center",shadowColor:"#222222",shadowOffset:{width:0,height:3},shadowOpacity:this.props.hasShadow?.29:0,shadowRadius:this.props.hasShadow?4.65:0,elevation:this.props.hasShadow?4:0,zIndex:99})},c.a.createElement(D.a,{name:this.props.iconNameAdd,size:null!=this.props.iconNameAdd?null!=this.props.iconSize?this.props.iconSize:24:0,color:null!=this.props.iconNameAdd&&null!=this.props.iconColor?this.props.iconColor:"#222"}),c.a.createElement(f.a,{style:{height:"60%",width:null!=this.props.iconNameAdd?1:0,marginLeft:null!=this.props.iconNameAdd?4:0,marginRight:null!=this.props.iconNameAdd?4:0,borderRadius:2,backgroundColor:"#CCC"}}),c.a.createElement(D.a,{name:this.props.iconName,size:null!=this.props.iconSize?this.props.iconSize:24,color:null!=this.props.iconColor?this.props.iconColor:"#222"})))}}]),n}(c.a.Component);function nt(e,t,n,a){var r={userModel:{email:e,username:t,password:n,accepted:a}};return{query:"mutation ($userModel: UserModel!){createUser(userModel: $userModel){success}}",variables:JSON.stringify(r)}}function at(e){var t=e.navigation,n=c.a.useState("email"),a=i()(n,2),r=a[0],o=a[1],s=c.a.useState("username"),l=i()(s,2),u=l[0],d=l[1],h=c.a.useState("password"),m=i()(h,2),p=m[0],g=m[1],y=c.a.useState(!1),w=i()(y,2),b=w[0],E=w[1],v=c.a.useState(!1),S=i()(v,2),x=S[0],C=S[1],R=c.a.useState(!1),O=i()(R,2),P=O[0],I=O[1];return c.a.createElement(f.a,{style:ge.containerBody},c.a.createElement(tt,{styleContainer:{position:"absolute",top:20,left:0},iconName:"arrow-left-bold",leftTab:!0,hasShadow:!0,buttonBackgroundColor:"#FFF",onPress:function(){return t.goBack()}}),c.a.createElement(f.a,{style:ge.containerMain},c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Email"})),c.a.createElement(U,{value:r,onChangeText:function(e){return o(e)},constraints:Pe}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Username"})),c.a.createElement(U,{value:u,onChangeText:function(e){return d(e)},constraints:Ie}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Password"})),c.a.createElement($,{value:p,onChangeText:function(e){return g(e)},constraints:ke}),c.a.createElement(f.a,{style:{flexDirection:"row"}},c.a.createElement(f.a,{style:{marginTop:4}},c.a.createElement(Qe.a,{value:b,onValueChange:E})),c.a.createElement(f.a,{style:{width:8}}),c.a.createElement(j,{text:"I have read and agree to the terms and conditions and privacy policy."})),c.a.createElement(Q,{styleContainer:{marginTop:16},text:"REGISTER",onPress:function(){b?Ce(nt(r,u,p,!0)).then((function(e){null!==e.error&&I(!0),null!==e.data&&t.push("Verify")}),(function(e){Ze.a.alert(e)})):(C(!0),setTimeout((function(){errorToggle(!1)}),4e3))}})),x&&c.a.createElement(he,{text:"Please read and accept our terms & conditions and privacy policy.",onPress:function(){C(!1)}}),P&&c.a.createElement(he,{text:"Failed to create account please try again.",onPress:function(){I(!1)}}))}function rt(e,t,n){Ce(function(e,t){var n={verificationModel:{email:e,verificationCode:t}};return{query:"mutation ($verificationModel: VerificationModel!){verifyEmail(verificationModel: $verificationModel){success}}",variables:JSON.stringify(n)}}(e,t)).then((function(e){null!==e.data&&n.push("Login")}),(function(e){Ze.a.alert(e)}))}function ot(e){var t=e.navigation,n=e.route.params,a=c.a.useState(void 0===n?"":n.userEmail),r=i()(a,2),o=r[0],s=r[1],l=c.a.useState(void 0===n?"":n.verificationCode),u=i()(l,2),d=u[0],h=u[1];return c.a.createElement(f.a,{style:ge.containerBody},c.a.createElement(tt,{styleContainer:{position:"absolute",top:20,left:0},iconName:"arrow-left-bold",buttonBackgroundColor:"#FFF",hasShadow:!0,leftTab:!0,onPress:function(){return t.goBack()}}),c.a.createElement(f.a,{style:ge.containerMain},c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Email/Username"})),c.a.createElement(U,{value:o,defaultValue:o,onChangeText:function(e){return s(e)},constraints:Pe}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Verification Code"})),c.a.createElement(U,{value:d,defaultValue:d,onChangeText:function(e){return h(e)},constraints:Oe}),c.a.createElement(z,{styleContainer:{marginVertical:8},text:"If you haven't recieved an email please make sure to check your email's spam folder.",hasShadow:!1}),c.a.createElement(Q,{text:"VERIFY",onPress:function(){return rt(o,d,t)}})))}function it(e){var t=e.navigation,n=c.a.useState("email"),a=i()(n,2),r=a[0],o=a[1];return c.a.createElement(f.a,{style:ge.containerBody},c.a.createElement(tt,{styleContainer:{position:"absolute",top:20,left:0},iconName:"arrow-left-bold",buttonBackgroundColor:"#FFF",hasShadow:!0,leftTab:!0,onPress:function(){return t.goBack()}}),c.a.createElement(f.a,{style:ge.containerMain},c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Email/Username"})),c.a.createElement(U,{value:r,onChangeText:function(e){return o(e)},constraints:Pe}),c.a.createElement(z,{styleContainer:{marginVertical:8},text:"You will be sent an email containing instructions on how to reset your password.",hasShadow:!1}),c.a.createElement(Q,{text:"SEND EMAIL",onPress:function(){return function(e,t){Ce(function(e){return{query:'mutation {createPasswordResetEmail(email: "'+e+'"){success}}'}}(e)).then((function(e){null!==e.data&&t.push("VerifyResetPassword")}),(function(e){Ze.a.alert(e)}))}(r,t)}})))}function st(e,t,n,a){Ce(function(e,t,n){var a={passwordResetModel:{email:e,password:t,verificationCode:n}};return{query:"mutation ($passwordResetModel: PasswordResetModel!){resetPassword(passwordResetModel: $passwordResetModel){success}}",variables:JSON.stringify(a)}}(e,t,n)).then((function(e){null!==e.data&&a.push("Login")}),(function(e){Ze.a.alert(e)}))}function ct(e){var t=e.navigation,n=e.route.params,a=c.a.useState(void 0===n?"":n.userEmail),r=i()(a,2),o=r[0],s=r[1],l=c.a.useState("password"),u=i()(l,2),d=u[0],h=u[1],m=c.a.useState(void 0===n?"":n.verificationCode),p=i()(m,2),g=p[0],y=p[1];return c.a.createElement(f.a,{style:ge.containerBody},c.a.createElement(tt,{styleContainer:{position:"absolute",top:20,left:0},iconName:"arrow-left-bold",buttonBackgroundColor:"#FFF",hasShadow:!0,leftTab:!0,onPress:function(){return t.goBack()}}),c.a.createElement(f.a,{style:ge.containerMain},c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Email/Username"})),c.a.createElement(U,{value:o,defaultValue:o,onChangeText:function(e){return s(e)},constraints:Pe}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"New Password"})),c.a.createElement($,{value:d,onChangeText:function(e){return h(e)},constraints:ke}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Verification Code"})),c.a.createElement(U,{value:g,defaultValue:g,onChangeText:function(e){return y(e)},constraints:Oe}),c.a.createElement(Q,{text:"RESET PASSWORD",onPress:function(){return st(o,d,g,t)}})))}var lt=Object(d.a)();function ut(e){e.navigation;return c.a.createElement(lt.Navigator,{name:"LoginStack",headerMode:"none"},c.a.createElement(lt.Screen,{name:"Login",component:Je}),c.a.createElement(lt.Screen,{name:"Register",component:at}),c.a.createElement(lt.Screen,{name:"Verify",component:ot}),c.a.createElement(lt.Screen,{name:"ResetPassword",component:it}),c.a.createElement(lt.Screen,{name:"VerifyResetPassword",component:ct}))}var dt=n(22),ft=n.n(dt),ht=n(31),mt=n(126),pt=n(60),gt=n(186),yt=n(93),wt=m.a.get("window"),bt=(wt.height,wt.width,function(e){var t=Object(yt.i)({Merriweather_300Light:yt.a,Merriweather_300Light_Italic:yt.b,Merriweather_400Regular:yt.c,Merriweather_400Regular_Italic:yt.d,Merriweather_700Bold:yt.e,Merriweather_700Bold_Italic:yt.f,Merriweather_900Black:yt.g,Merriweather_900Black_Italic:yt.h});return i()(t,1)[0]?c.a.createElement(f.a,null,c.a.createElement(O.a,{style:{fontFamily:I(e.weight),fontSize:e.fontSize,color:e.color}},e.text)):c.a.createElement(k.a,null)}),Et=n(68);function vt(e){return c.a.createElement(f.a,{style:{flexDirection:e.containerOrientation,alignItems:e.alignLabel}},c.a.createElement(j,{text:e.iconLabel,color:e.labelColor}),c.a.createElement(f.a,{style:{borderWidth:e.iconBorderWidth,borderColor:e.iconBorderColor,borderRadius:e.iconBorderRadius}},c.a.createElement(Et.a,{name:e.iconName,size:e.iconSize,color:e.iconColor})))}function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var xt=function(e){E()(n,e);var t=St(n);function n(e){var a;return g()(this,n),(a=t.call(this,e))._createBarIconItem=function(e,t,n){return c.a.createElement(c.a.Fragment,null,c.a.createElement(vt,{iconName:t.iconNames[e],iconSize:t.iconSize,iconColor:t.iconColors[e],iconLabel:t.iconLabels[e],labelColor:t.labelColor,iconBorderWidth:t.iconBorderWidth,iconBorderRadius:t.iconBorderRadius,iconBorderColor:t.iconBorderColor,containerOrientation:t.containerOrientation,alignItems:t.alignLabel}),n&&c.a.createElement(f.a,{style:Ct.ratingSpacers}))},a._createBarIconItemGroup=function(e){for(var t=[],n=function(n){o=function(){return a._createBarIconItem(n,e)},t.push({item:o})},r=0;r<4;r++){var o;n(r)}return console.log(t),t},a}return w()(n,[{key:"render",value:function(){var e=this.props,t={iconNames:e.iconNames,iconColors:e.iconColors,iconLabels:e.iconLabels,iconBorderColor:e.iconBorderColor,iconBorderWidth:e.iconBorderWidth,iconBorderRadius:e.iconBorderRadius,iconSize:e.iconSize,containerOrientation:e.containerOrientation,alignLabel:e.alignLabel,labelColor:e.labelColor};return c.a.createElement(f.a,{style:Ct.containerRatings},this._createBarIconItem(0,t,!0),this._createBarIconItem(1,t,!0),this._createBarIconItem(2,t,!0),this._createBarIconItem(3,t,!1))}}]),n}(c.a.Component);xt.defaultProps={iconLabels:[null,null,null,null]};var Ct=h.a.create({containerRatings:{flexDirection:"row",justifyContent:"flex-start"},ratingSpacers:{width:6}}),Rt=n(149),Ot=n(99),Pt=n(127),It=n.n(Pt),kt=["S","A","B","C"],Bt=["C","B","A","S"],Ft=["wifi-strength-off-outline","wifi-strength-2","wifi-strength-3","wifi-strength-4"],Tt=Bt,jt=["volume-high","volume-medium","volume-low","volume-off"],Dt=kt,Lt=["hexagon-outline","hexagon-slice-2","hexagon-slice-4","hexagon-slice-6"],_t=Bt,zt=["battery-outline","battery-30","battery-70","battery"],Mt=Bt,Nt=[null].concat(Bt),At=[null].concat(kt),Vt=["selection"].concat(Ft),Wt=Nt,Ut=["selection"].concat(jt),Ht=At,qt=["selection"].concat(Lt),Gt=Nt,$t=["selection"].concat(zt),Jt=Nt,Yt=["set-none"];function Zt(e){switch(e){case Wt[4]:return Vt[4];case Wt[3]:return Vt[3];case Wt[2]:return Vt[2];case Wt[1]:return Vt[1];case Wt[0]:return Vt[0];default:return Yt[0]}}function Qt(e){switch(e){case Ht[4]:return Ut[4];case Ht[3]:return Ut[3];case Ht[2]:return Ut[2];case Ht[1]:return Ut[1];case Ht[0]:return Ut[0];default:return Yt[0]}}function Kt(e){switch(e){case Gt[4]:return qt[4];case Gt[3]:return qt[3];case Gt[2]:return qt[2];case Gt[1]:return qt[1];case Gt[0]:return qt[0];default:return Yt[0]}}function Xt(e){switch(e){case Jt[4]:return $t[4];case Jt[3]:return $t[3];case Jt[2]:return $t[2];case Jt[1]:return $t[1];case Jt[0]:return $t[0];default:return Yt[0]}}function en(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}function tn(e){switch(e){case"S":return"#3c5547";case"A":return"#7ea58e";case"B":return"#a9c3b4";case"C":return"#d4e0d9"}return"#59806a"}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var on,sn=m.a.get("window"),cn=(sn.height,sn.width);!function(e){on=e>1e3?e/2.5:e}(cn);var ln=function(e){E()(n,e);var t=rn(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={index:0,imageIndexPressed:0,activeSlide:0,showReviewImages:!1},e._renderItem=function(e){var t=e.item;e.index;return c.a.createElement(ht.a,{source:{uri:t},style:{width:on-20,height:on-20,alignSelf:"center",borderRadius:4}})},e._toggleShowReviewImages=function(t){e.setState({imageIndexPressed:t}),e.setState({activeSlide:t}),e.setState({showReviewImages:!e.state.showReviewImages})},e._createTopReviewHalf=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(bt,{text:e.title,weight:"bold",fontSize:18}),c.a.createElement(f.a,{style:un.containerRatings},c.a.createElement(xt,{iconNames:[Zt(e.wifi),Qt(e.noise),Kt(e.seating),Xt(e.outlets)],iconColors:[tn("E"),tn("E"),tn("E"),tn("E")],labelColor:"#CCC",containerOrientation:"row",iconSize:18})),c.a.createElement(f.a,{style:un.divider}))},e._createImageSection=function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:un.containerThumbnails},c.a.createElement(q.a,{onPress:function(){return e._toggleShowReviewImages(0)}},c.a.createElement(ht.a,{source:t.imageUris[0],style:un.thumbnail})),c.a.createElement(q.a,{onPress:function(){return e._toggleShowReviewImages(1)}},c.a.createElement(ht.a,{source:t.imageUris[1],style:un.thumbnail})),c.a.createElement(q.a,{onPress:function(){return e._toggleShowReviewImages(2)}},c.a.createElement(ht.a,{source:t.imageUris[2],style:un.thumbnail}))),c.a.createElement(Ot.b,{ModalComponent:It.a,isVisible:e.state.showReviewImages,onBackdropPress:e._toggleShowReviewImages,backdropStyle:{backgroundColor:"rgba(0, 0, 0, 0.7)",borderWidth:0},overlayStyle:{backgroundColor:"rgba(0, 0, 0, 0.0)",borderWidth:0,shadowColor:"rgba(0, 0, 0, 0.0)",shadowOpacity:0,shadowRadius:0,elevation:0}},c.a.createElement(f.a,{style:{width:on,flexDirection:"row-reverse",alignSelf:"center"}},c.a.createElement(ie,{iconName:"close",iconColor:"#FFF",onPress:function(){e.setState({showReviewImages:!1})}})),c.a.createElement(Rt.b,{layout:"default",ref:function(t){e._carousel=t},data:t.imageUris,renderItem:e._renderItem,sliderWidth:cn,itemWidth:on,firstItem:e.state.imageIndexPressed,onSnapToItem:function(t){return e.setState({activeSlide:t})},enableSnap:!0,enableMomentum:!1}),e.pagination))},e._createLowerReviewHalf=function(t){var n=t.dateCreated.substring(0,10);return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:un.lowerRowContainer},c.a.createElement(f.a,{style:{flex:1}},c.a.createElement(j,{text:t.review,fontSize:16}),c.a.createElement(j,{text:"by "+t.userId+" on "+n,fontSize:14,color:"#AAAAAA"})),e.props.onPress&&c.a.createElement(f.a,{style:un.moreInfoContainer},c.a.createElement(ie,{iconSize:24,iconName:"arrow-right-circle-outline",onPress:function(){return e.props.onPress()}}))))},e._createNewReview=function(t,n){var a=t.dateCreated.substring(0,10);return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{style:[an(an({},e.props.styleContainer),{},{marginHorizontal:null!=e.props.margin?e.props.margin:20}),un.containerMainAlt]},!n&&c.a.createElement(f.a,{style:{flex:1,height:"100%",backgroundColor:"#9DB492",borderRadius:12}}),n&&c.a.createElement(q.a,{style:{flex:1,height:"100%"},onPress:function(){return e._toggleShowReviewImages(0)}},c.a.createElement(ht.a,{source:t.imageUris[0],style:{height:"100%",width:"100%",borderRadius:12}})),c.a.createElement(f.a,{style:{flex:2,height:"100%",padding:12}},c.a.createElement(f.a,{style:{flex:2}},c.a.createElement(j,{text:t.title,weight:"bold",fontSize:24}),c.a.createElement(j,{style:{marginTop:4},text:t.review,fontSize:14})),c.a.createElement(f.a,{style:{flex:1,flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"}},c.a.createElement(f.a,{style:{flexDirection:"row"}},c.a.createElement(j,{text:"by "+t.userId,fontSize:14,weight:"semiBold",color:"#222"}),c.a.createElement(j,{text:" on "+a,fontSize:14,weight:"regular",color:"#AAA"})),c.a.createElement(f.a,{style:{padding:4,borderRadius:12,backgroundColor:"#f2f2f2"}},c.a.createElement(xt,{iconNames:[Zt(t.wifi),Qt(t.noise),Kt(t.seating),Xt(t.outlets)],iconColors:[tn("E"),tn("E"),tn("E"),tn("E")],labelColor:"#CCC",containerOrientation:"row",iconSize:18}))))),n&&c.a.createElement(Ot.b,{ModalComponent:It.a,isVisible:e.state.showReviewImages,onBackdropPress:e._toggleShowReviewImages,backdropStyle:{backgroundColor:"rgba(0, 0, 0, 0.7)",borderWidth:0},overlayStyle:{backgroundColor:"rgba(0, 0, 0, 0.0)",borderWidth:0,shadowColor:"rgba(0, 0, 0, 0.0)",shadowOpacity:0,shadowRadius:0,elevation:0}},c.a.createElement(f.a,{style:{width:on,flexDirection:"row-reverse",alignSelf:"center"}},c.a.createElement(ie,{iconName:"close",iconColor:"#FFF",onPress:function(){e.setState({showReviewImages:!1})}})),c.a.createElement(Rt.b,{layout:"default",ref:function(t){e._carousel=t},data:t.imageUris,renderItem:e._renderItem,sliderWidth:cn,itemWidth:on,firstItem:e.state.imageIndexPressed,onSnapToItem:function(t){return e.setState({activeSlide:t})},enableSnap:!0,enableMomentum:!1}),e.pagination))},e}return w()(n,[{key:"render",value:function(){var e=this.props.review;return e.imageUris.length>0?c.a.createElement(c.a.Fragment,null,this._createNewReview(e,!0)):c.a.createElement(c.a.Fragment,null,this._createNewReview(e,!1))}},{key:"pagination",get:function(){return c.a.createElement(Rt.a,{dotsLength:this.props.review.imageUris.length,activeDotIndex:this.state.activeSlide,containerStyle:{},dotStyle:{width:10,height:10,borderRadius:5,marginHorizontal:4,backgroundColor:"rgba(255, 255, 255, 0.92)"},inactiveDotStyle:{},inactiveDotOpacity:.4,inactiveDotScale:.6})}}]),n}(c.a.Component),un=h.a.create({containerMain:{flexDirection:"column",marginTop:12,padding:16,borderRadius:4,alignItems:"flex-start",backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7},containerMainAlt:{flexDirection:"row",height:200,marginTop:12,padding:8,borderRadius:12,alignItems:"flex-start",backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7},containerRatings:{flexDirection:"row",width:"100%",marginTop:4,alignSelf:"center",borderRadius:4},containerThumbnails:{flexDirection:"row",width:"100%",marginBottom:4},btnCloseOverlay:{position:"absolute",top:8,left:8,zIndex:99},divider:{height:.1,width:"100%",marginTop:4,marginBottom:6,alignSelf:"center",backgroundColor:"#EEE"},thumbnail:{height:35,width:35,marginRight:4,borderRadius:6},lowerRowContainer:{width:"100%",flexDirection:"row",display:"flex",justifyContent:"flex-start"},moreInfoContainer:{flex:1,marginLeft:"auto",alignItems:"flex-end",alignSelf:"flex-end"}});function dn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var fn,hn,mn,pn,gn,yn=m.a.get("window"),wn=yn.width,bn=yn.height,En=bn/2,vn=wn>1e3;!function(e){vn?(fn=e-40,hn=En-40,mn=20,pn=e-320,gn=32):(fn=e,hn=En,mn=0,pn=e-40,gn=12)}(wn);var Sn=function(e){E()(n,e);var t=dn(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[],start:0,max:5,location:{},reachedEnd:!1,enableScrollViewScroll:!0,translateYValue:new se.a.Value(15)},e.fadeIn=function(){se.a.timing(e.state.translateYValue,{toValue:0,easing:ce.a.elastic(1),duration:2e3}).start()},e._fetchLocation=function(t){var n=Le(0,e.state.max,t);Me().then((function(t){Re(t,n).then((function(t){null!==t.data&&(e.setState({location:t.data.getLocationById}),e._updateReviewsState(t.data.getReviewsByLocationId))}),(function(e){}))}))},e._fetchReviews=function(t){if(!e.state.reachedEnd){var n=De(e.state.start,e.state.max,t);Me().then((function(t){Re(t,n).then((function(t){null!==t.data&&e._updateReviewsState(t.data.getReviewsByLocationId)}),(function(e){}))}))}},e._updateReviewsState=function(t){var n=t.paging,a=t.reviews;e.setState((function(t,r){return{data:[].concat(ft()(e.state.data),ft()(a)),reachedEnd:n.stop-n.start!==e.state.max}}))},e._handleLoadMore=function(t){e.setState((function(t,n){return{start:t.start+e.state.max}}),(function(){e._fetchReviews(t)}))},e._addReview=function(t,n){e.props.navigation.navigate("AddReview",{locationId:t,locationName:n})},e._reportLocation=function(t,n){e.props.navigation.navigate("ReportLocation",{locationId:t,locationName:n})},e._getDirections=function(e){gt.a.openURL(e).catch((function(e){return console.error("An error occurred",e)}))},e._createControlPanel=function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(tt,{iconName:"arrow-left-bold",buttonBackgroundColor:"#FFF",hasShadow:!0,leftTab:!0,onPress:function(){return e.props.navigation.goBack()}}),c.a.createElement(f.a,{style:{height:6}}),c.a.createElement(tt,{iconName:"directions",buttonBackgroundColor:"#FFF",hasShadow:!0,leftTab:!0,onPress:function(){return e._getDirections("https://www.google.com/maps/search/?api=1&query="+encodeURI(t.name)+"&query_place_id="+t.id)}}),c.a.createElement(f.a,{style:{height:6}}),c.a.createElement(tt,{iconName:"pencil",buttonBackgroundColor:"#9DB492",hasShadow:!0,leftTab:!0,onPress:function(){return e._addReview(t.id,t.name)}}),c.a.createElement(f.a,{style:{height:6}}),c.a.createElement(tt,{iconName:"flag-variant",buttonBackgroundColor:"#FF0033",hasShadow:!0,leftTab:!0,onPress:function(){return e._reportLocation(t.id,t.name)}}))},e._createMainDesktopBody=function(t){return c.a.createElement(mt.a,{style:xn.containerBody},c.a.createElement(f.a,{style:xn.containerDisplayImage},c.a.createElement(ht.a,{source:{uri:t.imageUri},style:xn.displayImage,resizeMode:"cover"})),c.a.createElement(f.a,{style:{width:"55%"}}),c.a.createElement(pt.a,{ListHeaderComponent:c.a.createElement(f.a,{style:{width:"55%",alignSelf:"flex-end"}},c.a.createElement(f.a,null,c.a.createElement(f.a,{style:xn.containerLocationInfo},c.a.createElement(j,{style:{letterSpacing:1},text:"// LOCATION",weight:"semiBold",color:"#9DB492"}),c.a.createElement(f.a,{style:{height:40}}),c.a.createElement(j,{text:t.name,weight:"bold",fontSize:60}),c.a.createElement(f.a,{style:xn.containerAddress},c.a.createElement(bt,{text:t.streetAddress+" "+t.city+", "+t.state+" "+t.zipCode,fontSize:16,color:"#BBB"})),c.a.createElement(f.a,{style:xn.containerRatings},c.a.createElement(xt,{iconNames:[Zt(t.wifiRating),Qt(t.noiseRating),Kt(t.seatingRating),Xt(t.outletsRating)],iconColors:[tn(t.wifiRating),tn(t.noiseRating),tn(t.seatingRating),tn(t.outletsRating)],iconSize:100,iconBorderWidth:0,iconBorderColor:"#dddddd",iconBorderRadius:4})),c.a.createElement(f.a,{style:{position:"absolute",width:24,height:24,top:24,right:24,borderRadius:150,backgroundColor:"#E14B1C"}})),c.a.createElement(f.a,{style:xn.containerReviewFlatListLabel},c.a.createElement(j,{text:"REVIEWS",weight:"semiBold",fontSize:14,color:"#444444"})))),ListFooterComponent:c.a.createElement(f.a,{style:xn.listFooter}),style:xn.containerFlatList,data:e.state.data,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return c.a.createElement(f.a,{style:{width:"55%",alignSelf:"flex-end"}},c.a.createElement(ln,{review:t}))},onEndReached:function(){e._handleLoadMore(t.id)},onEndReachedThreshold:.5,initialNumToRender:1}),c.a.createElement(f.a,{style:xn.containerFloatingButtons},e._createControlPanel(t)))},e._createMainMobileBody=function(t){return c.a.createElement(mt.a,{style:ge.containerBody},c.a.createElement(pt.a,{ListHeaderComponent:c.a.createElement(f.a,{style:Cn.containerListHeader},c.a.createElement(ht.a,{source:{uri:t.imageUri},style:Cn.displayImage,resizeMode:"cover"}),c.a.createElement(f.a,{style:Cn.containerLocationInfo},c.a.createElement(bt,{text:t.name,weight:"bold",fontSize:24}),c.a.createElement(f.a,{style:Cn.containerAddress},c.a.createElement(j,{text:t.streetAddress+" "+t.city+", "+t.state+" "+t.zipCode,fontSize:14,color:"#777777"})),c.a.createElement(f.a,{style:ge.divider}),c.a.createElement(f.a,{style:Cn.containerRatings},c.a.createElement(xt,{iconNames:[Zt(t.wifiRating),Qt(t.noiseRating),Kt(t.seatingRating),Xt(t.outletsRating)],iconColors:[tn(t.wifiRating),tn(t.noiseRating),tn(t.seatingRating),tn(t.outletsRating)],iconSize:60,iconBorderWidth:0,iconBorderColor:"#dddddd",iconBorderRadius:4}))),c.a.createElement(f.a,{style:Cn.containerReviewFlatListLabel},c.a.createElement(j,{text:"REVIEWS",weight:"semiBold",fontSize:14,color:"#444444"}))),ListFooterComponent:c.a.createElement(f.a,{style:Cn.listFooter}),style:Cn.containerFlatList,data:e.state.data,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return c.a.createElement(ln,{review:t})},onEndReached:function(){e._handleLoadMore(t.id)},onEndReachedThreshold:.5,initialNumToRender:1}),c.a.createElement(f.a,{style:Cn.containerFloatingButtons},e._createControlPanel(t)))},e}return w()(n,[{key:"componentDidMount",value:function(){var e=this.props.route.params.locationId;this._fetchLocation(e),this.fadeIn()}},{key:"render",value:function(){var e=this.state.location;return vn?this._createMainDesktopBody(e):this._createMainMobileBody(e)}}]),n}(s.Component),xn=h.a.create({containerBody:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#F8F7F0"},containerFlatList:{position:"absolute",flexDirection:"column",width:"100%",height:"100%",right:0},containerDisplayImage:{width:"45%",height:"100%",padding:20,backgroundColor:"#F8F7F0"},displayImage:{width:"100%",height:"100%",borderRadius:8,backgroundColor:"#9DB492"},containerLocationInfo:{flexDirection:"column",padding:24,marginTop:20,marginLeft:20,marginRight:20,borderRadius:8,alignItems:"flex-start",backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7},containerAddress:{flexDirection:"row",alignItems:"flex-start"},containerRatings:{flexDirection:"row",width:"100%",marginTop:4,marginBottom:4,alignSelf:"center"},containerFloatingButtons:{position:"absolute",top:20,left:0},containerReviewFlatListLabel:{marginTop:16,marginLeft:20,alignItems:"flex-start"},listFooter:{height:150}}),Cn=h.a.create({containerFlatList:{flexDirection:"column",width:wn,height:bn,alignSelf:"center",backgroundColor:"#F8F7F0"},displayImage:{position:"absolute",width:fn,height:hn,marginTop:mn,alignSelf:"center",backgroundColor:"#9DB492",borderRadius:4},containerLocationInfo:{flexDirection:"column",width:pn,padding:gn,marginTop:En-50,borderRadius:4,alignItems:"flex-start",alignSelf:"center",backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7},containerAddress:{flexDirection:"row",alignItems:"flex-start"},containerRatings:{flexDirection:"row",width:"100%",marginTop:4,marginBottom:4,alignSelf:"center"},containerFloatingButtons:{position:"absolute",top:20,left:0},containerReviewFlatListLabel:{width:pn,paddingTop:12,alignItems:"flex-start",alignSelf:"center"},listFooter:{height:150},ratingSpacers:{width:6}});Object(d.a)();var Rn=n(374);function On(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var Pn=function(e){E()(n,e);var t=On(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:"",hideResults:!1,data:e.props.data,filteredData:[]},e._onChangeValue=function(t){e.setState({value:t,hideResults:!1,filteredData:e._filterData(t)},(function(){e.props.onChangeText(t)}))},e._onChangeValueClick=function(t){e.setState({value:t,hideResults:!0,filteredData:e._filterData(t)},(function(){e.props.onChangeText(t)}))},e}return w()(n,[{key:"_filterData",value:function(e){if(""===e)return[];var t=new RegExp(""+e.trim(),"i");return this.state.data.filter((function(e){return e.search(t)>=0}))}},{key:"render",value:function(){var e=this;return c.a.createElement(f.a,{style:In.container},c.a.createElement(Rn.a,{style:In.textInput,data:this.state.filteredData,autoCorrect:!0,hideResults:this.state.hideResults,value:this.state.value,placeholder:this.props.placeholder,onChangeText:function(t){return e._onChangeValue(t)},renderItem:function(t){var n=t.item;t.i;return c.a.createElement(Q,{text:n,buttonBorderRadius:0,onPress:function(){return e._onChangeValueClick(n)}})}}))}}]),n}(c.a.Component),In=h.a.create({container:{width:"100%",height:30,marginBottom:20,zIndex:99},textInput:{width:"100%",padding:4,borderWidth:1,borderColor:"#CCDAE7",borderRadius:4,backgroundColor:"#E9F0F6"}});function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e){return c.a.createElement(q.a,{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.4)"},onPress:e.onDeny},c.a.createElement(f.a,{style:Bn(Bn({},e.styleContainer),{},{position:"absolute",width:440,top:"40%",left:"50%",marginLeft:-220,flexDirection:"column",padding:24,borderRadius:null!=e.containerBorderRadius?e.containerBorderRadius:8,backgroundColor:null!=e.containerBackgroundColor?e.containerBackgroundColor:"#FFF",justifyContent:"flex-start",shadowColor:"#222222",shadowOffset:{width:0,height:3},shadowOpacity:e.hasShadow?.29:0,shadowRadius:e.hasShadow?4.65:0,elevation:e.hasShadow?4:0})},c.a.createElement(f.a,{style:{flexDirection:"row"}},c.a.createElement(f.a,{style:{height:32,width:32,marginRight:12,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:1e3}},c.a.createElement(D.a,{name:e.isAlert?"alert-circle-outline":"information-outline",color:null!=e.iconColor?e.iconColor:"#222",size:24})),c.a.createElement(j,{text:e.title,color:null!=e.titleColor?e.titleColor:"#222",weight:null!=e.titleWeight?e.titleWeight:"bold",fontSize:30})),c.a.createElement(j,{text:e.text,style:{marginTop:8},color:null!=e.textColor?e.textColor:"#AAA",weight:null!=e.textWeight?e.textWeight:"regular",fontSize:16}),c.a.createElement(f.a,{style:{flexDirection:"row",marginTop:16,justifyContent:"flex-end"}},c.a.createElement(Q,{text:e.buttonDenyText,onPress:e.onDeny}),c.a.createElement(Q,{text:e.buttonConfirmText,onPress:e.onConfirm,styleContainer:{marginLeft:8}}))))}function Tn(e,t,n,a,r,o){var i=function(e,t,n,a,r){var o={locationInputModel:{name:e,streetAddress:t,city:n,state:a,zipCode:r}};return{query:"mutation ($locationInputModel: LocationInputModel!){createNewLocation(locationModel: $locationInputModel){success id}}",variables:JSON.stringify(o)}}(e,t,n,a,r);Me().then((function(e){Re(e,i).then((function(e){null!==e.data&&o.navigate("SearchLocations")}),(function(e){}))}))}function jn(e){var t=e.navigation,n=c.a.useState("name"),a=i()(n,2),r=a[0],o=a[1],s=c.a.useState("streetAddress"),l=i()(s,2),u=l[0],d=l[1],h=c.a.useState("city"),m=i()(h,2),p=m[0],g=m[1],y=c.a.useState("state"),w=i()(y,2),b=w[0],E=w[1],v=c.a.useState("zipCode"),S=i()(v,2),x=S[0],C=S[1],R=c.a.useState(!1),O=i()(R,2),P=O[0],I=(O[1],c.a.useState(!1)),k=i()(I,2),B=k[0],F=k[1];return c.a.createElement(f.a,{style:{height:"100%",backgroundColor:"#F8F7F0"}},c.a.createElement(f.a,{style:[ge.defaultShadow,Ln.containerMain,{width:500}]},c.a.createElement(j,{text:"Add Location",style:{marginBottom:12,letterSpacing:.3},weight:"bold",fontSize:30}),c.a.createElement(j,{text:"NAME",stylesheet:Ln.containerLabel,weight:"semiBold",fontSize:12}),c.a.createElement(U,{value:r,onChangeText:function(e){return o(e)},constraints:Oe}),c.a.createElement(j,{text:"STREET ADDRESS",stylesheet:Ln.containerLabel,weight:"semiBold",fontSize:12}),c.a.createElement(U,{value:u,onChangeText:function(e){return d(e)},constraints:Oe}),c.a.createElement(j,{text:"CITY",stylesheet:Ln.containerLabel,weight:"semiBold",fontSize:12}),c.a.createElement(U,{value:p,onChangeText:function(e){return g(e)},constraints:Oe}),c.a.createElement(j,{text:"STATE",stylesheet:Ln.containerLabel,weight:"semiBold",fontSize:12}),c.a.createElement(Pn,{value:b,onChangeText:function(e){return E(e)},data:Dn}),c.a.createElement(j,{text:"ZIPCODE",stylesheet:Ln.containerLabel,weight:"semiBold",fontSize:12}),c.a.createElement(U,{value:x,onChangeText:function(e){return C(e)},constraints:Te}),c.a.createElement(Q,{text:"Submit",onPress:function(){return Tn(r,u,p,b,x,t)}})),c.a.createElement(tt,{styleContainer:{position:"absolute",top:20,left:0},iconName:"arrow-left-bold",buttonBackgroundColor:"#FFF",hasShadow:!0,leftTab:!0,onPress:function(){F(!0)}}),P&&c.a.createElement(he,{text:"Making a submission... please wait"}),B&&c.a.createElement(Fn,{title:"Dismiss this submission?",text:"Going back will discard this submission. Are you sure you want to dismiss this submission and go back?",buttonConfirmText:"Go Back",buttonDenyText:"Cancel",onConfirm:function(){t.goBack()},onDeny:function(){F(!1)},hasShadow:!0}))}var Dn=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District Of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],Ln=h.a.create({containerMain:{alignSelf:"center",marginTop:60,padding:24,borderRadius:4,backgroundColor:"#FFF"},containerLabel:{marginBottom:4}});Object(d.a)();var _n=n(131),zn=n(64);function Mn(e){var t=e.location;return c.a.useMemo((function(){return c.a.createElement(zn.a,{onPress:e.onPress},c.a.createElement(f.a,{style:Un.containerCard},c.a.createElement(ht.a,{source:{uri:t.imageUri},style:Un.displayImage,resizeMode:"cover"}),c.a.createElement(f.a,{style:Un.containerDistanceFrom},c.a.createElement(j,{text:en(t.distance,2)+" mi",weight:"semiBold",fontSize:14})),c.a.createElement(f.a,{style:Un.containerLocationInfo},c.a.createElement(f.a,{style:Un.containerRatings},c.a.createElement(xt,{iconNames:[Zt(t.wifiRating),Qt(t.noiseRating),Kt(t.seatingRating),Xt(t.outletsRating)],iconColors:[tn(t.wifiRating),tn(t.noiseRating),tn(t.seatingRating),tn(t.outletsRating)],iconSize:24})),c.a.createElement(f.a,{style:Un.containerDetails},c.a.createElement(j,{text:t.name,weight:"bold",fontSize:32}),c.a.createElement(f.a,{style:Un.containerAddress},c.a.createElement(j,{style:{letterSpacing:.15},text:t.streetAddress+" "+t.city+", "+t.state+" "+t.zipCode,fontSize:16,color:"#777777"}))))))}))}var Nn=m.a.get("window"),An=Nn.height,Vn=Nn.width,Wn=.9*Math.min(Vn,An),Un=h.a.create({containerCard:{flex:1,flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",width:Wn,height:Wn,margin:8,borderRadius:8,shadowColor:"#000000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7,backgroundColor:"#000000"},containerLocationInfo:{position:"absolute",flex:1,flexDirection:"column",alignItems:"center",justifyContent:"flex-end",width:Wn,height:Wn,borderRadius:8,shadowColor:"#000000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7},containerDetails:{width:Wn-16,flexDirection:"column",paddingHorizontal:12,paddingBottom:12,paddingTop:8,marginBottom:8,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4,backgroundColor:"#ffffff"},containerRatings:{flexDirection:"row",paddingHorizontal:8,paddingTop:4,paddingBottom:4,marginLeft:8,marginRight:"auto",marginBottom:4,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4,backgroundColor:"#ffffff"},containerDistanceFrom:{position:"absolute",top:8,left:0,flex:1,flexDirection:"row",paddingHorizontal:8,paddingTop:4,paddingBottom:8,borderBottomLeftRadius:0,borderBottomRightRadius:4,borderTopLeftRadius:0,borderTopRightRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4,backgroundColor:"#ffffff"},containerAddress:{flexDirection:"column",alignItems:"flex-start"},rating:{flex:1,fontSize:24},ratingSpacers:{width:2},displayImage:{flex:1,width:Wn,height:Wn,borderRadius:8}});function Hn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var qn=function(e){E()(n,e);var t=Hn(n);function n(){var e;return g()(this,n),(e=t.call(this))._onPress=function(t){e.setState({selected:t},e.props.onPress(e.props.ratings[t]))},e._createButtonGroup=function(e){var t=[];return e.forEach((function(e){t.push({element:function(){return c.a.createElement(Et.a,{size:24,name:e})}})})),t},e.state={selected:0},e}return w()(n,[{key:"componentDidMount",value:function(){this._onPress(0)}},{key:"render",value:function(){var e=this._createButtonGroup(this.props.icons),t=this.props.containerWidth;return c.a.createElement(Ot.a,{containerStyle:{width:t,marginLeft:0},selectedButtonStyle:{backgroundColor:"#9DB492"},selectedIndex:this.state.selected,innerBorderStyle:{color:"rgba(0, 0, 0,0.0)",width:0},buttons:e,onPress:this._onPress})}}]),n}(s.Component);function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var Yn=function(e){E()(n,e);var t=Jn(n);function n(){var e;return g()(this,n),(e=t.call(this))._onChange=function(){var t=[];null!==e.state.wifi.value&&t.push($n({},e.state.wifi)),null!==e.state.noise.value&&t.push($n({},e.state.noise)),null!==e.state.seating.value&&t.push($n({},e.state.seating)),null!==e.state.outlets.value&&t.push($n({},e.state.outlets)),e.props.onChange(t)},e._setWifi=function(t){e.setState({wifi:e._createSelection("GTE","WIFI",t)},e._onChange)},e._setNoise=function(t){e.setState({noise:e._createSelection("LTE","NOISE",t)},e._onChange)},e._setSeating=function(t){e.setState({seating:e._createSelection("GTE","SEATING",t)},e._onChange)},e._setOutlets=function(t){e.setState({outlets:e._createSelection("GTE","OUTLETS",t)},e._onChange)},e._createSelection=function(e,t,n){return{operation:e,filter:t,value:n}},e.state={wifi:e._createSelection("GTE","WIFI",null),noise:e._createSelection("LTE","NOISE",null),seating:e._createSelection("GTE","SEATING",null),outlets:e._createSelection("GTE","OUTLETS",null)},e}return w()(n,[{key:"render",value:function(){return c.a.createElement(f.a,{style:{flexDirection:"row",justifyContent:"center"}},c.a.createElement(f.a,{style:{width:32,height:1}}),c.a.createElement(f.a,{style:{flexDirection:"column"}},c.a.createElement(f.a,{style:[Zn.containerPlate,$n($n({},this.props.styleContainer),{},{width:null!=this.props.width?this.props.width:500,marginBottom:16})]},c.a.createElement(j,{style:{marginBottom:16},text:"Search For",weight:"bold",fontSize:30}),c.a.createElement(U,{onChangeText:this.props.onChangeText})),c.a.createElement(f.a,{style:[Zn.containerPlate,$n($n({},this.props.styleContainer),{},{width:null!=this.props.width?this.props.width:500})]},c.a.createElement(j,{style:{marginBottom:16},text:"Filter For",weight:"bold",fontSize:30}),c.a.createElement(j,{stylesheet:Zn.containerTextLabel,text:"\\\\ WIFI",weight:"semiBold",fontSize:12}),c.a.createElement(qn,{icons:Vt,ratings:Wt,containerWidth:"100%",onPress:this._setWifi}),c.a.createElement(j,{stylesheet:Zn.containerTextLabel,text:"\\\\ NOISE",weight:"semiBold",fontSize:12}),c.a.createElement(qn,{icons:Ut,ratings:Ht,containerWidth:"100%",onPress:this._setNoise}),c.a.createElement(j,{stylesheet:Zn.containerTextLabel,text:"\\\\ SEATING",weight:"semiBold",fontSize:12}),c.a.createElement(qn,{icons:qt,ratings:Gt,containerWidth:"100%",onPress:this._setSeating}),c.a.createElement(j,{stylesheet:Zn.containerTextLabel,text:"\\\\ OUTLETS",weight:"semiBold",fontSize:12}),c.a.createElement(qn,{icons:$t,ratings:Jt,containerWidth:"100%",onPress:this._setOutlets}),c.a.createElement(f.a,{style:Zn.containerBtn},c.a.createElement(Q,{text:"Search",onPress:this.props.onPress})))),c.a.createElement(ie,{iconName:"close",iconColor:"#FFF",onPress:this.props.onClose}))}}]),n}(c.a.Component),Zn=h.a.create({containerPlate:{flexDirection:"column",borderRadius:8,alignItems:"flex-start",padding:24,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62,elevation:4,backgroundColor:"rgb(255, 255, 255)"},containerTextLabel:{marginTop:12,marginBottom:4},containerBtn:{width:"100%",flexDirection:"row-reverse",marginTop:12}}),Qn=n(83);function Kn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var Xn=m.a.get("window"),ea=Xn.height,ta=Xn.width,na=.9*Math.min(ta,ea),aa=function(e){E()(n,e);var t=Kn(n);function n(e){var a;return g()(this,n),(a=t.call(this,e)).state={data:[],start:0,max:10,distance:50,isRefreshing:!1,reachedEnd:!1,filters:null,fuzzyName:null,showFilterPlate:!1},a._viewLocation=function(e){a.props.navigation.navigate("ViewLocation",{locationId:e})},a._viewMap=function(){a.props.navigation.navigate("SearchLocationsMap",{latitude:a.state.latitude,longitude:a.state.longitude})},a._setFuzzyName=function(e){a.setState({fuzzyName:e})},a._setFilters=function(e){a.setState({filters:e})},a._toggleShowFilterPlate=function(){a.setState({showFilterPlate:!a.state.showFilterPlate})},a._fetchLocations=function(){if(!a.state.reachedEnd){var e=je(a.state.start,a.state.max,a.state.fuzzyName,a.state.filters,a.state.latitude,a.state.longitude,a.state.distance);Me().then((function(t){Re(t,e).then((function(e){if(null!==e.data){var t=e.data.getLocationNearByElastic,n=t.paging,r=t.locations;n.stop-n.start!==a.state.max&&a.setState({reachedEnd:!0}),a.setState({data:[].concat(ft()(a.state.data),ft()(r)),isRefreshing:!1})}}),(function(e){a.setState({isRefreshing:!1})}))}))}},a._refreshLocations=function(){a.setState({reachedEnd:!1,isRefreshing:!0,data:[],start:0},(function(){a._fetchLocations()}))},a._handleLoadMore=function(){a.setState((function(e,t){return{start:e.start+a.state.max}}),(function(){a._fetchLocations()}))},a}return w()(n,[{key:"componentDidMount",value:function(){var e=this;We.a.getInitialURL().then((function(t){var n=We.a.parse(t),a=n.path,r=n.queryParams;a.includes("ViewLocation")&&void 0!==r.locationId&&e._viewLocation(r.locationId)})),this._getUserPermissions().then((function(t){"granted"===t.status?e._getUserLocation():Ze.a.alert(t)}))}},{key:"_getUserPermissions",value:function(){return Se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.a.awrap(Qn.d(Qn.c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}},{key:"_getUserLocation",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.setState({latitude:t.coords.latitude,longitude:t.coords.longitude}),e._fetchLocations()}),(function(e){return Ze.a.alert(e.message)}),{enableHighAccuracy:!0,timeout:2e4,maximumAge:1e3})}},{key:"render",value:function(){var e=this;return c.a.createElement(mt.a,{style:{flex:1,flexDirection:"column",height:ea,width:ta,backgroundColor:"#F8F7F0"}},c.a.createElement(pt.a,{data:this.state.data,removeClippedSubviews:!0,keyExtractor:function(e){return e.id},ListFooterComponent:c.a.createElement(f.a,{style:ra.listFooter}),getItemLayout:function(e,t){return{length:na,offset:na*t,index:t}},refreshControl:c.a.createElement(_n.a,{refreshing:this.state.isRefreshing,onRefresh:this._refreshLocations.bind(this)}),renderItem:function(t){var n=t.item;return c.a.createElement(Mn,{location:n,onPress:function(){return e._viewLocation(n.id)}})},onEndReached:this._handleLoadMore,onEndReachedThreshold:50,initialNumToRender:5,windowSize:15}),c.a.createElement(f.a,{style:ra.containerButtonFloatingLeft},c.a.createElement(tt,{iconNameAdd:"magnify",iconName:"filter-variant",buttonBackgroundColor:"#FFFFFF",hasShadow:!0,leftTab:!0,onPress:function(){return e._toggleShowFilterPlate()}}),c.a.createElement(f.a,{style:{height:6}}),c.a.createElement(tt,{iconName:"refresh",buttonBackgroundColor:"#FFFFFF",hasShadow:!0,leftTab:!0,onPress:function(){e._refreshLocations()}}),c.a.createElement(f.a,{style:{height:6}}),c.a.createElement(tt,{iconName:"map-search",buttonBackgroundColor:"#FFFFFF",hasShadow:!0,leftTab:!0,onPress:function(){e._viewMap()}})),c.a.createElement(Ot.b,{ModalComponent:It.a,isVisible:this.state.showFilterPlate,onBackdropPress:this._toggleShowFilterPlate,backdropStyle:{backgroundColor:"rgba(0, 0, 0, 0.7)",borderWidth:0},overlayStyle:{width:ta>1e3?"40%":"85%",backgroundColor:"rgba(0, 0, 0, 0.0)",borderWidth:0,shadowColor:"rgba(0, 0, 0, 0.0)",shadowOpacity:0,shadowRadius:0,elevation:0}},c.a.createElement(Yn,{onPress:function(){e._refreshLocations(),e._toggleShowFilterPlate()},onClose:function(){e.setState({showFilterPlate:!1})},onChange:function(t){return e._setFilters(t)},onChangeText:function(t){return e._setFuzzyName(t)}})))}}]),n}(s.Component),ra=h.a.create({container:{flex:1,flexDirection:"column",height:ea,width:ta,backgroundColor:"#F8F7F0"},containerButtonFloatingLeft:{position:"absolute",top:20,left:0},listHeader:{height:43},listFooter:{height:72}});function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}!function(e){E()(n,e);var t=sa(n);function n(){return g()(this,n),t.apply(this,arguments)}w()(n,[{key:"render",value:function(){return c.a.createElement(q.a,{style:ia(ia({},this.props.styleContainer),{},{width:null!=this.props.buttonSize?this.props.buttonSize:128,height:null!=this.props.iconNameAdd?null!=this.props.buttonSize?this.props.buttonSize:64:32,backgroundColor:null!=this.props.buttonBackgroundColor?this.props.buttonBackgroundColor:"transparent",justifyContent:"center",alignItems:"center",borderRadius:null!=this.props.buttonBorderRadius?this.props.buttonBorderRadius:4,zIndex:99}),onPress:this.props.onPress},c.a.createElement(f.a,{style:ia(ia({},this.props.styleIcon),{},{flexDirection:"row",shadowColor:"#222222",shadowOffset:{width:0,height:3},shadowOpacity:this.props.hasShadow?.29:0,shadowRadius:this.props.hasShadow?4.65:0,elevation:this.props.hasShadow?4:0})},c.a.createElement(D.a,{name:this.props.iconName,size:null!=this.props.iconSize?this.props.iconSize:24,color:null!=this.props.iconColor?this.props.iconColor:"#222"}),c.a.createElement(j,{text:this.props.text,fontSize:this.props.fontSize,weight:"semiBold",color:"#ffffff"})))}}])}(c.a.Component);function ca(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var la=function(e){E()(n,e);var t=ca(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._addLocationForm=function(){e.props.navigation.navigate("AddLocationForm")},e}return w()(n,[{key:"render",value:function(){var e=this;return c.a.createElement(f.a,{style:{flex:1,backgroundColor:"#F8F7F0",alignItems:"center",justifyContent:"center"}},c.a.createElement(f.a,{style:{flexDirection:"column",padding:16,borderRadius:4,alignItems:"center",backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7}},c.a.createElement(j,{style:{textAlign:"center"},text:"Don't see your favorite location? \n Add it here!",weight:"bold",fontSize:32}),c.a.createElement(Q,{text:"Add Location",onPress:function(){return e._addLocationForm()}})))}}]),n}(s.Component);function ua(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var da,fa=m.a.get("window"),ha=fa.height,ma=fa.width,pa=function(e){E()(n,e);var t=ua(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userId:"",userEmail:"",start:0,data:[],max:10,reachedEnd:!1,menuVisible:!1,isError:!1,confirmLogOut:!1},e._populateUserInformation=function(){Ae().then((function(t){e.setState({userEmail:t})})),Ne().then((function(t){e.setState({userId:t},e._getUserReviews())}))},e._getUserReviews=function(){e.state.reachedEnd||Me().then((function(t){Re(t,_e(e.state.start,e.state.max,e.state.userId)).then((function(t){if(null!==t.data){var n=t.data.getReviewsByUserId,a=n.reviews,r=n.paging;r.stop-r.start!==e.state.max&&e.setState({reachedEnd:!0}),e.setState({data:[].concat(ft()(e.state.data),ft()(a)),start:r.stop})}}))}))},e._viewLocation=function(t){e.props.navigation.navigate("ViewLocation",{locationId:t})},e}return w()(n,[{key:"componentDidMount",value:function(){this._populateUserInformation()}},{key:"render",value:function(){var e=this;return c.a.createElement(f.a,{style:{width:ma,height:ha}},c.a.createElement(pt.a,{ListHeaderComponent:c.a.createElement(f.a,null,c.a.createElement(f.a,{style:ya.containerMain},c.a.createElement(c.a.Fragment,null,c.a.createElement(ie,{styleContainer:{position:"absolute",top:16,right:16},iconName:"dots-vertical",iconSize:24,hasShadow:!1,onPress:function(){e.state.menuVisible?e.setState({menuVisible:!1}):e.setState({menuVisible:!0})}})),c.a.createElement(f.a,{style:{flexDirection:"row"}},c.a.createElement(j,{text:"Hello, ",weight:"bold",fontSize:30}),c.a.createElement(j,{text:this.state.userId,weight:"semiBold",fontSize:30,color:"#59806a"})),c.a.createElement(j,{text:this.state.userEmail,fontSize:16,color:"#BBB"})),c.a.createElement(f.a,{style:{marginTop:16,marginLeft:da}},c.a.createElement(j,{text:"MY REVIEWS",weight:"semiBold",fontSize:16}))),style:ya.containerFlatList,data:this.state.data,keyExtractor:function(e){return e.id},renderItem:function(t){var n=t.item;return c.a.createElement(ln,{review:n,margin:da,onPress:function(){return e._viewLocation(n.locationId)}})},onEndReached:function(){e._getUserReviews()},onEndReachedThreshold:50,initialNumToRender:5,ListFooterComponent:c.a.createElement(f.a,{style:ya.listFooter})}),this.state.isError&&c.a.createElement(he,{translateBy:130,text:"No about page, yet.",onPress:function(){e.setState({isError:!1})}}),this.state.menuVisible&&c.a.createElement(be,{onClose:function(){e.setState({menuVisible:!1})},styleContainer:{right:da+8,top:76},menuItems:c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee,{itemDelay:0,itemIcon:"settings",itemText:"Options",onMenuItemPress:function(){}}),c.a.createElement(f.a,{style:{height:12}}),c.a.createElement(Ee,{itemDelay:50,itemIcon:"information-outline",itemText:"About",onMenuItemPress:function(){}}),c.a.createElement(f.a,{style:{height:12}}),c.a.createElement(Ee,{itemDelay:100,itemIcon:"logout-variant",itemText:"Logout",onMenuItemPress:function(){e.setState({confirmLogOut:!0})}}))}),this.state.confirmLogOut&&c.a.createElement(Fn,{title:"Log out?",text:"Are you sure you want to log out?",buttonConfirmText:"Log out",buttonDenyText:"Cancel",onConfirm:function(){e.context.logout()},onDeny:function(){e.setState({confirmLogOut:!1})},hasShadow:!0}))}}]),n}(s.Component);pa.contextType=Ve,function(e){e-(da=e>1e3?(e-(e-200))/2:(e-(e-30))/2)}(ma);var ga,ya=h.a.create({containerMain:{borderRadius:4,marginLeft:da,marginRight:da,marginTop:20,padding:16,backgroundColor:"#FFF",shadowColor:"#333333",shadowOffset:{width:0,height:3},shadowOpacity:.26,shadowRadius:6.62,elevation:6},containerFlatList:{flexDirection:"column",width:ma,height:ha,alignSelf:"center",backgroundColor:"#F8F7F0"},listFooter:{height:150}}),wa=n(575),ba=Object(wa.a)(),Ea=m.a.get("window");Ea.height;function va(e){e.navigator;var t={position:"absolute",left:ga,right:ga,bottom:0,marginBottom:16,border:"none",borderRadius:4,shadowColor:"#333333",shadowOffset:{width:0,height:3},shadowOpacity:.26,shadowRadius:6.62,elevation:8,backgroundColor:"#ffffff"};return c.a.createElement(ba.Navigator,{name:"HomeTabs",initialRouteName:"Home",tabBarOptions:{showLabel:!1,keyboardHidesTabBar:!0,style:t}},c.a.createElement(ba.Screen,{name:"Profile",options:{tabBarIcon:function(e){var t=e.focused;e.color,e.size;return c.a.createElement(Et.a,{name:t?"account":"account-outline",size:24,color:"#222222"})}},component:pa}),c.a.createElement(ba.Screen,{name:"Home",options:{tabBarIcon:function(e){var t=e.focused;e.color,e.size;return c.a.createElement(Et.a,{name:t?"home":"home-outline",size:24,color:"#222222"})}},component:aa}),c.a.createElement(ba.Screen,{name:"AddLocation",options:{unmountOnBlur:!0,tabBarIcon:function(e){var t=e.focused;e.color,e.size;return c.a.createElement(Et.a,{name:t?"plus-circle":"plus-circle-outline",size:24,color:"#222222"})}},component:la}))}!function(e){ga=e>1e3?(e-(e-200))/2:(e-(e-30))/2}(Ea.width);var Sa=n(307),xa=n(308),Ca=n(306),Ra=n(309),Oa=n(375),Pa=n.n(Oa);function Ia(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var ka=function(e){E()(n,e);var t=Ia(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[],filters:null,fuzzyName:null,index:0,popup:null,zoom:13,latitude:0,longitude:0,isClickableTimeout:1e3,isClickable:!1,showFilterPlate:!1},e._toggleIsClickable=function(){e.setState({isClickable:!e.state.isClickable})},e._fetchLocations=function(){var t=je(0,50,e.state.fuzzyName,e.state.filters,e.state.latitude,e.state.longitude,250);Me().then((function(n){Re(n,t).then((function(t){if(null!==t.data){var n=t.data.getLocationNearByElastic.locations;e.setState({data:[].concat(ft()(e.state.data),ft()(n))})}}),(function(e){Alert.alert(e.message)}))}))},e._updateLocation=function(t){e.setState({latitude:t.center[0],longitude:t.center[1],zoom:t.zoom})},e._handleZoom=function(){e._closePopup()},e._handleDrag=function(){e._closePopup()},e._closePopup=function(){null!==e.state.popup.current&&e.state.popup.current.leafletElement.options.leaflet.map.closePopup()},e._refreshLocations=function(){e.setState({data:[]},(function(){e._fetchLocations()}))},e._viewList=function(){e.state.isClickable&&e.props.navigation.goBack()},e._viewLocation=function(){e.props.navigation.navigate("ViewLocation",{locationId:e.state.data[e.state.index].id})},e._setFuzzyName=function(t){e.setState({fuzzyName:t})},e._setFilters=function(t){e.setState({filters:t})},e._toggleShowFilterPlate=function(){e.setState({showFilterPlate:!e.state.showFilterPlate})},e._createMarker=function(t,n){return c.a.createElement(Sa.a,{key:t.id,position:[t.latitude,t.longitude],onClick:function(){var t=c.a.createRef();e.setState({index:n,popup:t})}},c.a.createElement(xa.a,{ref:e.state.popup,autoPan:!1},c.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){e._viewLocation()}},c.a.createElement(f.a,{style:Ba.containerLocationInfo},c.a.createElement(f.a,{style:Ba.containerRow},c.a.createElement(O.a,{style:Ba.labelDistance},en(t.distance,2),"mi")),c.a.createElement(f.a,{style:Ba.containerRow},c.a.createElement(O.a,{style:Ba.labelLocationName},t.name)),c.a.createElement(f.a,{style:Ba.containerRow},c.a.createElement(xt,{iconNames:[Zt(t.wifiRating),Qt(t.noiseRating),Kt(t.seatingRating),Xt(t.outletsRating)],iconColors:[tn(t.wifiRating),tn(t.noiseRating),tn(t.seatingRating),tn(t.outletsRating)]}))))))},e}return w()(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({popup:c.a.createRef(),latitude:this.props.route.params.latitude,longitude:this.props.route.params.longitude},(function(){e._fetchLocations(),setTimeout((function(){e._toggleIsClickable()}),e.state.isClickableTimeout)}))}},{key:"render",value:function(){var e=this,t=m.a.get("window"),n=t.height,a=t.width;return c.a.createElement(f.a,{style:{flex:1,flexDirection:"column"}},c.a.createElement("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet@1.6.0/dist/leaflet.css",integrity:"sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==",crossOrigin:""}),c.a.createElement(Ca.a,{center:[this.state.latitude,this.state.longitude],zoom:this.state.zoom,zoomControl:!1,onViewportChange:this._updateLocation,maxZoom:16,minZoom:10,style:{height:n,width:"100%"}},this.state.data.map((function(t,n){return e._createMarker(t,n)})),c.a.createElement(Ra.a,{url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/256/{z}/{x}/{y}?access_token=sk.eyJ1IjoidHJmb3JrbmVyIiwiYSI6ImNrY2llajEzbDBnYXcyeG1paHJ5MGd1cnQifQ.wsVkXLkINZUSGOrQctnbow",attribution:'Map data \xa9 <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>'}),c.a.createElement(Pa.a,{position:"topleft"},c.a.createElement(f.a,{style:{marginTop:10,marginLeft:-10,flexDirection:"column"}},c.a.createElement("div",{onClick:function(){return e._toggleShowFilterPlate()}},c.a.createElement(tt,{iconNameAdd:"magnify",iconName:"filter-variant",buttonBackgroundColor:"#FFFFFF",hasShadow:!0,leftTab:!0})),c.a.createElement(f.a,{style:{height:6}}),c.a.createElement("div",{onClick:function(){return e._refreshLocations()}},c.a.createElement(tt,{iconName:"refresh",buttonBackgroundColor:"#FFFFFF",hasShadow:!0,leftTab:!0})),c.a.createElement(f.a,{style:{height:6}}),c.a.createElement("div",{onClick:function(){return e._viewList()}},c.a.createElement(tt,{iconName:"format-list-bulleted",buttonBackgroundColor:"#FFFFFF",hasShadow:!0,leftTab:!0}))))),c.a.createElement(Ot.b,{ModalComponent:It.a,isVisible:this.state.showFilterPlate,onBackdropPress:function(){e._toggleShowFilterPlate()},backdropStyle:{backgroundColor:"rgba(0, 0, 0, 0.7)",borderWidth:0},overlayStyle:{width:a>1e3?"40%":"85%",backgroundColor:"rgba(0, 0, 0, 0.0)",borderWidth:0,shadowColor:"rgba(0, 0, 0, 0.0)",shadowOpacity:0,shadowRadius:0,elevation:0}},c.a.createElement(Yn,{onPress:function(){e._refreshLocations(),e._toggleShowFilterPlate()},onClose:function(){e._toggleShowFilterPlate()},onChange:function(t){return e._setFilters(t)},onChangeText:function(t){return e._setFuzzyName(t)}})))}}]),n}(s.Component),Ba=h.a.create({containerLocationInfo:{flexDirection:"column",borderRadius:4,alignItems:"flex-start",alignSelf:"center",backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7},containerAddress:{flexDirection:"column",textAlign:"left"},containerRow:{flexDirection:"row",textAlign:"left",padding:6},labelLocationName:{fontWeight:"700"},labelDistance:{fontWeight:"600"}}),Fa=n(50),Ta=n(378),ja=n(98);function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var za,Ma=function(e){E()(n,e);var t=_a(n);function n(){var e;g()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={index:0,max:3,images:[null,null,null]},e._renderItem=function(t){var n=t.item;t.index;return c.a.createElement(f.a,{style:{backgroundColor:"#222",borderRadius:5,height:300}},null!==n?e._createImageView(n):e._createAddImage())},e._createImageView=function(t){return c.a.createElement(f.a,{style:Na.container},c.a.createElement(f.a,null,c.a.createElement(ht.a,{source:{uri:t.uri},style:{width:300,height:300}})),c.a.createElement(f.a,{style:Na.elevated},c.a.createElement(Et.a,{name:"close-circle",onPress:e._removeImage})))},e._createAddImage=function(){return c.a.createElement(f.a,{style:Na.card},c.a.createElement(Et.a,{name:"plus-circle",title:"Pick an image from camera roll",color:"#FFF",size:24,onPress:e._pickImage}),c.a.createElement(j,{text:"Add an image",color:"#FFF"}))},e._getPermissionAsync=function(){var e;return Se.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!xe.a.platform.ios&&!xe.a.platform.android){t.next=6;break}return t.next=3,Se.a.awrap(Qn.d(Qn.b));case 3:e=t.sent,"granted"!==e.status&&alert("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return t.stop()}}),null,null,null,Promise)},e._pickImage=function(){var t,n;return Se.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Se.a.awrap(Ta.a({mediaTypes:ja.a.Images,allowsEditing:!0,aspect:[1,1],quality:1}));case 3:(t=a.sent).cancelled||((n=ft()(e.state.images))[e.state.index]=t,e.setState({images:n},e._onUpdate)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),alert("Sorry, we need camera roll permissions to make this work!");case 10:case"end":return a.stop()}}),null,null,[[0,7]],Promise)},e._removeImage=function(){var t=ft()(e.state.images);t[e.state.index]=null,e.setState({images:t},e._onUpdate)},e._onUpdate=function(){e.props.onChange(e.state.images)},e}return w()(n,[{key:"componentWillMount",value:function(){this._onUpdate()}},{key:"render",value:function(){var e=this;return c.a.createElement(f.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},c.a.createElement(Rt.b,{layout:"default",ref:function(t){e._carousel=t},data:this.state.images,renderItem:this._renderItem,sliderWidth:500,itemWidth:300,onSnapToItem:function(t){return e.setState({index:t})}}))}},{key:"componentDidMount",value:function(){this._getPermissionAsync()}}]),n}(s.Component),Na=h.a.create({container:{flex:1,flexDirection:"column"},card:{flex:1,alignItems:"center",justifyContent:"center"},elevated:La(La({},h.a.absoluteFillObject),{},{alignSelf:"flex-end"})}),Aa=m.a.get("window"),Va=Aa.height,Wa=Aa.width,Ua=Wa/3;function Ha(e,t,n,a){null!==t&&function(e,t,n,a){var r,o,i,s,c,l,u;return Se.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return r={Authorization:"Bearer "+e,"location-id":n,"review-id":a,Accept:"application/json"},o=new FormData,xe.a.platform.ios||xe.a.platform.android?(l={name:"image",type:"image/jpeg",uri:xe.a.platform.android?t.uri:t.uri.replace("file://","")},o.append("file",l)):(i=t.uri.split(","),s=i[0].split(":"),c=new Blob([i[1]],{type:s[1]}),o.append("file",c,"image.jpg")),d.next=5,Se.a.awrap(fetch("https://dev.fernapp.co/images",{method:"POST",headers:r,body:o}));case 5:return u=d.sent,d.next=8,Se.a.awrap(u.json());case 8:return d.abrupt("return",d.sent);case 9:case"end":return d.stop()}}),null,null,null,Promise)}(e,t,n,a).then((function(e){e.data}),(function(e){Ze.a.alert(e)}))}function qa(e,t,n,a,r,o,i,s,c){var l=function(e,t,n,a,r,o,i){var s={reviewInputModel:{locationId:e,noise:t,wifi:n,seating:a,outlets:r,title:o,review:i}};return{query:"mutation ($reviewInputModel: ReviewInputModel!){createNewReview(reviewModel: $reviewInputModel){success id}}",variables:JSON.stringify(s)}}(e,t,n,a,r,o,i);Me().then((function(t){Re(t,l).then((function(n){null!==n.data&&(s.forEach((function(a){Ha(t,a,e,n.data.createNewReview.id)})),c.goBack())}),(function(e){Ze.a.alert(e)}))}))}function Ga(e){return e>1e3?42:30}function $a(e){return e>1e3?18:14}function Ja(e){var t=e.route,n=e.navigation,a=t.params,r=a.locationId,o=a.locationName,s=c.a.useState("noise"),l=i()(s,2),u=l[0],d=l[1],h=c.a.useState("wifi"),m=i()(h,2),p=m[0],g=m[1],y=c.a.useState("seating"),w=i()(y,2),b=w[0],E=w[1],v=c.a.useState("outlets"),S=i()(v,2),x=S[0],C=S[1],R=c.a.useState("title"),O=i()(R,2),P=O[0],I=O[1],k=c.a.useState("review"),B=i()(k,2),F=B[0],T=B[1],D=c.a.useState("images"),L=i()(D,2),_=L[0],z=L[1],M=c.a.useState(!1),N=i()(M,2),A=N[0],V=N[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Fa.a,{style:Ya.containerBody},c.a.createElement(f.a,{style:Ya.containerMain},c.a.createElement(j,{text:"Write your review for"}),c.a.createElement(bt,{text:o,weight:"bold",fontSize:Ga(Wa)}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Title",weight:"semiBold"})),c.a.createElement(U,{value:P,onChangeText:function(e){return I(e)},constraints:Be}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"WIFI",weight:"semiBold",fontSize:$a(Wa)})),c.a.createElement(qn,{icons:Ft,ratings:Tt,containerWidth:"100%",onPress:g}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"NOISE",weight:"semiBold",fontSize:$a(Wa)})),c.a.createElement(qn,{icons:jt,ratings:Dt,containerWidth:"100%",onPress:d}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"SEATING",weight:"semiBold",fontSize:$a(Wa)})),c.a.createElement(qn,{icons:Lt,ratings:_t,containerWidth:"100%",onPress:E}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"OUTLETS",weight:"semiBold",fontSize:$a(Wa)})),c.a.createElement(qn,{icons:zt,ratings:Mt,containerWidth:"100%",onPress:C}),c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(j,{text:"Review Body",weight:"semiBold"})),c.a.createElement(U,{isMultiline:!0,numberOfLines:6,value:F,onChangeText:function(e){return T(e)},constraints:Fe}),c.a.createElement(Ma,{onChange:z}),c.a.createElement(Q,{text:"Submit",onPress:function(){return qa(r,u,p,b,x,P,F,_,n)}}))),c.a.createElement(tt,{styleContainer:{position:"absolute",top:20,left:0},iconName:"arrow-left-bold",buttonBackgroundColor:"#FFF",hasShadow:!0,leftTab:!0,onPress:function(){A||V(!0)}}),A&&c.a.createElement(Fn,{title:"Dismiss this review?",text:"Going back will discard this review. Are you sure you want to dismiss this review and go back?",buttonConfirmText:"Go Back",buttonDenyText:"Cancel",onConfirm:function(){n.goBack()},onDeny:function(){V(!1)},hasShadow:!0}))}!function(e){za=e>1e3?Ua:e-40}(Wa);var Ya=h.a.create({containerBody:{backgroundColor:"#F8F7F0",width:Wa,height:Va,paddingBottom:130},containerMain:{width:za,flexDirection:"column",margin:20,padding:16,borderRadius:4,alignSelf:"center",alignItems:"center",backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:3},shadowOpacity:.29,shadowRadius:4.65,elevation:7}});function Za(e,t,n){var a=function(e,t){var n={reportModel:{locationId:e,text:t}};return{query:"mutation ($reportModel: ReportLocationInputModel!){reportLocation(reportModel: $reportModel){success id}}",variables:JSON.stringify(n)}}(t,n);Me().then((function(t){Re(t,a).then((function(t){null!==t.data&&e.goBack()}),(function(e){}))}))}function Qa(e,t,n,a){var r=function(e,t,n){var a={reportModel:{locationId:e,reviewId:t,text:n}};return{query:"mutation ($reportModel: ReportReviewInputModel!){reportReview(reportModel: $reportModel){success id}}",variables:JSON.stringify(a)}}(t,n,a);Me().then((function(t){Re(t,r).then((function(t){null!==t.data&&e.goBack()}),(function(e){}))}))}function Ka(e){var t=e.navigation,n=e.route.params.locationId,a=c.a.useState("reason"),r=i()(a,2),o=r[0],s=r[1];return c.a.createElement(f.a,{style:ge.containerBody},c.a.createElement(tt,{styleContainer:{position:"absolute",top:20,left:0},iconName:"arrow-left-bold",buttonBackgroundColor:"#FFF",hasShadow:!0,leftTab:!0,onPress:function(){return t.goBack()}}),c.a.createElement(f.a,{style:ge.containerMain},c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(O.a,{style:ge.textLabel},"Reason")),c.a.createElement(U,{value:name,onChangeText:function(e){return s(e)},constraints:Oe}),c.a.createElement(Q,{text:"Report Location",onPress:function(){return Za(t,n,o)}})))}function Xa(e){var t=e.navigation,n=e.route.params,a=n.locationId,r=n.reviewId,o=c.a.useState("reason"),s=i()(o,2),l=s[0],u=s[1];return c.a.createElement(f.a,{style:ge.containerBody},c.a.createElement(tt,{styleContainer:{position:"absolute",top:20,left:0},iconName:"arrow-left-bold",buttonBackgroundColor:"#FFF",hasShadow:!0,leftTab:!0,onPress:function(){return t.goBack()}}),c.a.createElement(f.a,{style:ge.containerMain},c.a.createElement(f.a,{style:ge.containerTextInputLabels},c.a.createElement(O.a,{style:ge.textLabel},"Reason")),c.a.createElement(U,{value:name,onChangeText:function(e){return u(e)},constraints:Oe}),c.a.createElement(Q,{text:"Report Review",onPress:function(){return Qa(t,a,r,l)}})))}var er=Object(d.a)();function tr(e){e.navigator;return c.a.createElement(er.Navigator,{headerMode:"none"},c.a.createElement(er.Screen,{name:"SearchLocations",component:va}),c.a.createElement(er.Screen,{name:"SearchLocationsMap",component:ka}),c.a.createElement(er.Screen,{name:"ViewLocation",component:Sn}),c.a.createElement(er.Screen,{name:"ReportLocation",component:Ka}),c.a.createElement(er.Screen,{name:"ReportReview",component:Xa}),c.a.createElement(er.Screen,{name:"AddReview",component:Ja}),c.a.createElement(er.Screen,{name:"AddLocationForm",component:jn}))}var nr=n(58);function ar(){return c.a.createElement(f.a,{style:rr.container},c.a.createElement(nr.a,{size:"large",color:"#0000ff"}))}var rr=h.a.create({container:{flex:1,justifyContent:"center"}});function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sr=We.a.makeUrl("/");function cr(){var e=s.useRef(),t=Object(l.a)(e,{prefixes:[sr]}).getInitialState,n=s.useState(!1),a=i()(n,2),r=a[0],o=a[1],c=s.useState(),d=i()(c,2),f=d[0],h=(d[1],s.useReducer((function(e,t){switch(t.type){case"LOGIN":return{userToken:t.token,isLoading:!1};case"VERIFY_ATTEMPTED":return ir(ir({},e),{},{isLoading:!1});case"LOGOUT":return{userToken:null,isLoading:!1}}}),{userToken:null,isLoading:!0})),m=i()(h,2),p=m[0],g=m[1];s.useEffect((function(){Me().then((function(e){null!==e?Re(e,{query:"query {verifyAuthentication{success}}"}).then((function(t){null!==t.data?g({type:"LOGIN",token:e}):g({type:"VERIFY_ATTEMPTED"})}),(function(){g({type:"VERIFY_ATTEMPTED"})})):g({type:"VERIFY_ATTEMPTED"})}))}),[Me]);var y=s.useMemo((function(){return{login:function(){Me().then((function(e){null!==e&&g({type:"LOGIN",token:e})}))},logout:function(){Se.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.a.awrap(ze.a.removeItem("fernToken"));case 2:case"end":return e.stop()}}),null,null,null,Promise).then((function(){g({type:"LOGOUT"})}))}}}),[]);return s.useEffect((function(){t().catch((function(){})).then((function(e){o(!0)}))}),[t]),!0!==p.isLoading&&r?s.createElement(Ve.Provider,{value:y},s.createElement(u.a,{linking:f,ref:e,fallback:s.createElement(ar,null)},null==p.userToken?s.createElement(ut,null):s.createElement(tr,null))):s.createElement(ar,null)}},382:function(e,t,n){n(383),e.exports=n(562)},383:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[382,1,2]]]);
//# sourceMappingURL=app.763d3511.chunk.js.map